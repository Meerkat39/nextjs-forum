## âœ… çµè«–
Prisma Clientã¯ã€TypeScript/JavaScriptã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç¹‹ãã€**è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã€Œè¶…å„ªç§€ãªé€šè¨³ã•ã‚“ã€**ã§ã‚ã‚‹ã€‚

SQLã‚’ç›´æ¥æ›¸ãä»£ã‚ã‚Šã«ã€`prisma.post.findMany()`ã®ã‚ˆã†ãªå‹å®‰å…¨ãªãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã§ãã‚‹ãŸã‚ã€é–‹ç™ºåŠ¹ç‡ã¨å®‰å…¨æ€§ãŒé£›èºçš„ã«å‘ä¸Šã™ã‚‹ã€‚

## ğŸ§  è©³ç´°
Prisma Clientã¯ã€`npx prisma generate`ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦`schema.prisma`ã®ãƒ¢ãƒ‡ãƒ«å®šç¾©ã‹ã‚‰è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œå°‚ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚

### ãªãœå¿…è¦ã‹ï¼Ÿ (Before / After)

#### Before: SQLã‚’ç›´æ¥æ›¸ãå ´åˆ
SQLæ–‡ã‚’æ–‡å­—åˆ—ã¨ã—ã¦ã‚³ãƒ¼ãƒ‰å†…ã«è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã‚„ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®å¤‰æ›´ã«æ°—ã¥ãã«ãã„ã€‚
```sql
-- SQLã¯ãŸã ã®æ–‡å­—åˆ—ãªã®ã§ã€ã‚¨ãƒ‡ã‚£ã‚¿ã®è£œå®Œã‚„å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã‹ãªã„
SELECT * FROM "Post" WHERE "id" = '...';
```

#### After: Prisma Clientã‚’ä½¿ã†å ´åˆ
ä½¿ã„æ…£ã‚ŒãŸJavaScript/TypeScriptã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€å‹å®‰å…¨ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã§ãã‚‹ã€‚
```typescript
import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();

// postãƒ¢ãƒ‡ãƒ«ã®findUniqueãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã ã‘
// é–“é•ã£ãŸãƒ¡ã‚½ãƒƒãƒ‰åã‚„å¼•æ•°ã¯ã‚¨ãƒ‡ã‚£ã‚¿ãŒã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™
const post = await prisma.post.findUnique({
  where: { id: '...' },
});
```

### ä¸»ãªãƒ¡ãƒªãƒƒãƒˆ
1.  **å®Œç’§ãªå‹å®‰å…¨æ€§**:
    `prisma.post`ã®ã‚ˆã†ã«ãƒ¢ãƒ‡ãƒ«åã‚’å…¥åŠ›ã™ã‚‹ã¨ã€`findMany`ã‚„`create`ãªã©ã®æ“ä½œãƒ¡ã‚½ãƒƒãƒ‰ãŒè‡ªå‹•è£œå®Œã•ã‚Œã‚‹ã€‚å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ï¼ˆä¾‹: `post`ï¼‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆ`post.title`ãªã©ï¼‰ã‚‚å‹å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã¯å³åº§ã«ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ¤œçŸ¥ã•ã‚Œã‚‹ã€‚

2.  **SQLä¸è¦**:
    åŸºæœ¬çš„ãªCRUDï¼ˆä½œæˆã€èª­ã¿å–ã‚Šã€æ›´æ–°ã€å‰Šé™¤ï¼‰æ“ä½œã¯ã€SQLã‚’ä¸€è¡Œã‚‚æ›¸ã‹ãšã«å®Ÿç¾ã§ãã‚‹ã€‚

3.  **è‡ªå‹•æ›´æ–°**:
    `schema.prisma`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¦`prisma generate`ã‚’å®Ÿè¡Œã™ã‚‹ãŸã³ã«ã€Prisma Clientã‚‚æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã«åˆã‚ã›ã¦è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹ã€‚

### Next.jsé–‹ç™ºç’°å¢ƒã§ã®æ³¨æ„ç‚¹ï¼šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³åŒ–

Next.jsã®é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã‚³ãƒ¼ãƒ‰ãŒå†èª­ã¿è¾¼ã¿ã•ã‚Œã‚‹ï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼‰ã€‚
å˜ç´”ã«`new PrismaClient()`ã‚’æ¯å›å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãŒéš›é™ãªãå¢—ãˆã€ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¨ãªã‚‹ã€‚

ã“ã‚Œã‚’é˜²ããŸã‚ã€`globalThis`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¦Prisma Clientã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¸€åº¦ã ã‘ç”Ÿæˆã—ã€ãã‚Œã‚’ä½¿ã„å›ã™ã€Œã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚’å®Ÿè£…ã™ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã‚ã‚‹ã€‚

`lib/prisma.ts`
```typescript
import { PrismaClient } from '@prisma/client';

const prismaClientSingleton = () => {
  return new PrismaClient();
};

declare global {
  var prisma: undefined | ReturnType<typeof prismaClientSingleton>;
}

// globalThis.prismaãŒå­˜åœ¨ã™ã‚Œã°ãã‚Œã‚’ä½¿ã„ã€ãªã‘ã‚Œã°æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
const prisma = globalThis.prisma ?? prismaClientSingleton();

export default prisma;

// é–‹ç™ºç’°å¢ƒã§ã®ã¿ã€ç”Ÿæˆã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ä¿æŒã™ã‚‹
if (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma;
```

## ğŸ·ï¸ Tags
#Prisma #PrismaClient #ORM #ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ #å­¦ç¿’ãƒ¡ãƒ¢ #Nextjs
